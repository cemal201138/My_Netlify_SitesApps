<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Projelerim</title>

<style>
body {
  font-family: system-ui, Arial;
  background: #0f172a;
  color: #e5e7eb;
  padding: 24px;
}
h1 { margin-bottom: 16px }

.folder {
  cursor: pointer;
  font-weight: bold;
  color: #fbbf24;
  margin: 12px 0;
}

ul {
  list-style: none;
  padding-left: 18px;
  display: none;
}

li { margin: 6px 0 }

a {
  color: #38bdf8;
  text-decoration: none;
}
a:hover { text-decoration: underline }
</style>
</head>
<body>

<h1>ðŸ“‚ Projeler</h1>
<div id="root">YÃ¼kleniyorâ€¦</div>

<script>
const API = "https://api.github.com/repos/cemal201138/My_Netlify_SitesApps/contents/";

async function loadFolder(path) {
  const res = await fetch(API + path);
  const items = await res.json();

  let ul = document.createElement("ul");

  for (const item of items) {
    let li = document.createElement("li");

    if (item.type === "dir") {
      const title = document.createElement("div");
      title.className = "folder";
      title.textContent = "ðŸ“ " + item.name;

      const child = await loadFolder(item.path);
      title.onclick = () => {
        child.style.display = child.style.display === "none" ? "block" : "none";
      };

      li.appendChild(title);
      li.appendChild(child);
      ul.appendChild(li);
    }

    if (item.type === "file" && item.name.endsWith(".html")) {
      li.innerHTML = `ðŸ“„ <a href="${item.path}" target="_blank">${item.name}</a>`;
      ul.appendChild(li);
    }
  }

  return ul;
}

async function init() {
  const res = await fetch(API);
  const rootItems = await res.json();

  let container = document.createElement("div");

  for (const item of rootItems) {
    if (item.type === "dir") {
      const folder = document.createElement("div");
      folder.className = "folder";
      folder.textContent = "ðŸ“ " + item.name;

      const content = await loadFolder(item.path);
      content.style.display = "none";

      folder.onclick = () => {
        content.style.display = content.style.display === "none" ? "block" : "none";
      };

      container.appendChild(folder);
      container.appendChild(content);
    }
  }

  document.getElementById("root").innerHTML = "";
  document.getElementById("root").appendChild(container);
}

init();
</script>

</body>
</html>
